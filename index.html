<!DOCTYPE html>
<html>
<head>
    <title>SWIFTchat</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #chat-container {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        #chatbox {
            max-height: 400px;
            overflow-y: scroll;
            padding: 20px;
        }
        .message {
            margin-bottom: 10px;
        }
        #userInput {
            width: 100%;
            padding: 10px;
            border: none;
            border-top: 1px solid #ccc;
            font-size: 16px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="chat-container">
        <center> <h1 class="mainh1title">SWIFTchat</h1> </center>
        <div id="chatbox">
            <!-- Chat messages will be displayed here -->
            <div class="message" id="welcomeMessage">Welcome! How can I assist you today? ("Type help for help")</div>
        </div>
        <input type="text" id="userInput" placeholder="Type your command...">
        <button onclick="sendMessage()">Send</button>
    </div>

    <script>
        // Static jokes array
        const jokes = [
            "Why don't scientists trust atoms? Because they make up everything!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "I used to play piano by ear, but now I use my hands.",
            "What do you call a fish with no eyes? Fsh!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "How do you make holy water? You boil the hell out of it!",
            "I'm reading a book on anti-gravity. It's impossible to put down!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "What do you get when you cross a snowman and a vampire? Frostbite.",
            "I used to play piano by ear, but now I use my hands.",
            "What do you call a fish with no eyes? Fsh!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "I'm on a whiskey diet. I've lost three days already.",
            "What do you call a bear with no teeth? A gummy bear!",
            "How do you organize a space party? You 'planet'!",
            "What did one wall say to the other wall? I'll meet you at the corner.",
            "Why don't skeletons fight each other? They don't have the guts!",
            "How do you make a tissue dance? You put a little boogie in it!",
            "Why did the bicycle fall over? Because it was two-tired!",
            "Why don't scientists trust atoms? Because they make up everything!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "I used to play piano by ear, but now I use my hands.",
            "What do you call a fish with no eyes? Fsh!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "How do you make holy water? You boil the hell out of it!",
            "I'm reading a book on anti-gravity. It's impossible to put down!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "What do you get when you cross a snowman and a vampire? Frostbite.",
            "I used to play piano by ear, but now I use my hands.",
            "What do you call a fish with no eyes? Fsh!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "I'm on a whiskey diet. I've lost three days already.",
            "What do you call a bear with no teeth? A gummy bear!",
            "How do you organize a space party? You 'planet'!",
            "What did one wall say to the other wall? I'll meet you at the corner.",
            "Why don't skeletons fight each other? They don't have the guts!",
            "How do you make a tissue dance? You put a little boogie in it!",
            "Why did the bicycle fall over? Because it was two-tired!",
            "Why don't scientists trust atoms? Because they make up everything!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "I used to play piano by ear, but now I use my hands.",
            "What do you call a fish with no eyes? Fsh!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "How do you make holy water? You boil the hell out of it!",
            "I'm reading a book on anti-gravity. It's impossible to put down!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "What do you get when you cross a snowman and a vampire? Frostbite.",
        ];

        function sendMessage() {
            const userInput = document.getElementById("userInput").value;
            document.getElementById("userInput").value = ""; // Clear the input field

            // Add user's message to the chatbox
            appendMessage("User", userInput);

            // Process the user's command
            processCommand(userInput);
        }

        async function processCommand(userInput) {
            // Process commands and generate responses based on keywords and patterns
            userInput = userInput.toLowerCase();

            if (userInput.includes("hello")) {
                await typeMessage("Chatbot", "Hello! How can I help you?");
            } else if (userInput.includes("help")) {
                await typeMessage("Chatbot", "Here are some available commands: \n- Type 'hello' to greet the chatbot. \n- Type 'help' to see this message. \n- Type 'joke' to hear a joke. \n- Type 'time' to get the current time. \n- Type 'calculate' followed by a math expression (e.g., 'calculate 2 + 2'). \n- Type 'capitalize' followed by a sentence to capitalize it. \n- Type 'weather' to get weather information. \n- Type 'define' followed by a word to get its definition. \n- Type 'date' to get the current date. \n- Type 'greet' to receive a random greeting.");
            } else if (userInput.includes("joke")) {
                const randomJokeIndex = Math.floor(Math.random() * jokes.length);
                await typeMessage("Chatbot", jokes[randomJokeIndex]);
            } else if (userInput.includes("time")) {
                await showCurrentTime();
            } else if (userInput.includes("calculate")) {
                const expression = userInput.replace("calculate", "").trim();
                await calculateMath(expression);
            } else if (userInput.includes("capitalize")) {
                const sentence = userInput.replace("capitalize", "").trim();
                await capitalizeSentence(sentence);
            } else if (userInput.includes("weather")) {
                await getWeatherInfo();
            } else if (userInput.includes("define")) {
                const word = userInput.replace("define", "").trim();
                await defineWord(word);
            } else if (userInput.includes("date")) {
                await showCurrentDate();
            } else if (userInput.includes("greet")) {
                await greetUser();
            } else {
                await typeMessage("Chatbot", "I'm sorry, I don't have information on that topic.");
            }
        }

        async function appendMessage(sender, message) {
            const chatbox = document.getElementById("chatbox");
            const messageDiv = document.createElement("div");
            messageDiv.classList.add("message");
            messageDiv.innerHTML = `<strong>${sender}:</strong> <span id="typing">${message}</span>`;
            chatbox.appendChild(messageDiv);

            // Scroll to the latest message
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        async function typeMessage(sender, message) {
            const chatbox = document.getElementById("chatbox");
            const messageDiv = document.createElement("div");
            messageDiv.classList.add("message");
            messageDiv.innerHTML = `<strong>${sender}:</strong> `;
            chatbox.appendChild(messageDiv);

            const typingSpan = document.createElement("span");
            typingSpan.classList.add("typing");
            messageDiv.appendChild(typingSpan);

            for (let i = 0; i < message.length; i++) {
                await sleep(50); // Adjust the typing speed (milliseconds per character)
                typingSpan.textContent += message[i];
            }

            // Scroll to the latest message
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Additional functions for advanced features:

        async function showCurrentTime() {
            const currentTime = new Date().toLocaleTimeString();
            await typeMessage("Chatbot", `The current time is ${currentTime}.`);
        }

        async function calculateMath(expression) {
            try {
                const result = eval(expression);
                await typeMessage("Chatbot", `The result of ${expression} is: ${result}`);
            } catch (error) {
                await typeMessage("Chatbot", "Sorry, there was an error in your expression.");
            }
        }

        async function capitalizeSentence(sentence) {
            const capitalized = sentence.charAt(0).toUpperCase() + sentence.slice(1);
            await typeMessage("Chatbot", `Capitalized sentence: ${capitalized}`);
        }

        async function getWeatherInfo() {
            // You can fetch weather information from a weather API here
            // For simplicity, let's use a static weather response
            await typeMessage("Chatbot", "The weather is sunny today with a high of 25°C.");
        }

        async function defineWord(word) {
            try {
                const apiKey = 'YOUR_API_KEY'; // Replace with your WordsAPI API key
                const response = await fetch(`https://wordsapiv1.p.rapidapi.com/words/${word}`, {
                    method: 'GET',
                    headers: {
                        'X-RapidAPI-Host': 'wordsapiv1.p.rapidapi.com',
                        'X-RapidAPI-Key': apiKey
                    }
                });
                const data = await response.json();

                if (data.results && data.results.length > 0) {
                    await typeMessage("Chatbot", `Definition of "${word}": ${data.results[0].definition}`);
                } else {
                    await typeMessage("Chatbot", `Sorry, I couldn't find a definition for "${word}".`);
                }
            } catch (error) {
                console.error(error);
                await typeMessage("Chatbot", "An error occurred while fetching the definition.");
            }
        }

        async function showCurrentDate() {
            const currentDate = new Date().toLocaleDateString();
            await typeMessage("Chatbot", `The current date is ${currentDate}.`);
        }

        // New function for greeting the user

        async function greetUser() {
            const greetings = [
                "Hello! How can I assist you today?",
                "Hi there! What can I help you with?",
                "Greetings! How may I be of service?",
                "Hey! How can I assist you?",
                "Hi! What can I do for you today?",
            ];
            const randomGreetingIndex = Math.floor(Math.random() * greetings.length);
            await typeMessage("Chatbot", greetings[randomGreetingIndex]);
        }
    </script>
</body>
</html>
